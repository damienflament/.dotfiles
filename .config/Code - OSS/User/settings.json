/*
    VSCode configuration
*/
{
    // Settings editing
    "workbench.settings.editor": "json",
    "workbench.settings.openDefaultSettings": false,
    "workbench.settings.openDefaultKeybindings": false,

    // Theming
    "editor.fontFamily": "Source Code Pro, 'monospace'",
    "editor.fontLigatures": true,
    "editor.fontSize": 14,
    "editor.suggestFontSize": 14,
    "terminal.integrated.fontSize": 14,
    "terminal.integrated.lineHeight": 1,

    "workbench.colorTheme": "Solarized Dark",
    "workbench.iconTheme": "vs-minimal",

    "C_Cpp.inactiveRegionOpacity": 0.3,

    // Components UI
    "window.titleBarStyle": "native",
    "breadcrumbs.enabled": true,
    "workbench.tree.horizontalScrolling": true,
    "window.menuBarVisibility": "toggle",
    "explorer.openEditors.visible": 0,
    "terminal.integrated.cursorStyle": "line",
    "terminal.integrated.cursorBlinking": true,
    "terminal.integrated.rendererType": "dom",

    // Editor UI
    "editor.lineNumbers": "on",
    "editor.renderLineHighlight": "all",
    "editor.renderWhitespace": "none",
    "editor.renderControlCharacters": true,
    "editor.rulers": [80, 120],
    "editor.renderIndentGuides": false,

    "editor.cursorStyle": "line",
    "editor.cursorWidth": 1,
    "editor.cursorBlinking": "expand",

    "editor.smoothScrolling": true,

    "debug.inlineValues": true,


    // Editor behaviors
    "editor.tabSize": 4,
    "editor.autoIndent": true,
    "editor.detectIndentation": true,
    "editor.formatOnPaste": true,
    "files.insertFinalNewline": true,
    "files.trimFinalNewlines": true,
    "files.trimTrailingWhitespace": true,
    "files.autoGuessEncoding": true,

    "files.autoSave": "afterDelay",
    "files.autoSaveDelay": 60000,

    // Language specific editor UI and behaviors
    "[html]": {
        "editor.colorDecorators": true,
    },
    "[css]": {
        "editor.colorDecorators": true,
    },
    "[scss]": {
        "editor.colorDecorators": true,
    },
    "[shellscript]": {
        "editor.lineNumbers": "relative",
    },

    // Explorer behaviors
    "explorer.confirmDelete": false,
    "explorer.confirmDragAndDrop": false,

    // Suggestions
    "editor.quickSuggestions": {
        "other": true,
        "comments": false,
        "strings": false,
    },
    "editor.snippetSuggestions": "bottom",
    "editor.wordBasedSuggestions": true,
    "editor.suggest.filterGraceful": true,
    "editor.suggestSelection": "recentlyUsedByPrefix",
    "editor.suggest.localityBonus": true,
    "editor.acceptSuggestionOnEnter": "smart",
    "editor.acceptSuggestionOnCommitCharacter": true,

    // Files associations
    "files.associations": {
        "**/.config/zsh/**/*": "shellscript",
        "**/.local/share/zsh/**/*": "shellscript",
        "**/.config/fontconfig/**/*": "xml",

        // C/C++
        "*.private.h": "c",
        "*.h": "c",
        ".c": "c",
        ".C": "cpp",
        "*.cpp": "cpp",

        // GNU Build System (Autotools)
        "*.h.in": "c",
        "config.site": "shellscript",

        // SCons
        "SConstruct": "python",
        "SConscript": "python",

        // Clang
        "*.clang-format": "yaml",

        // PkgConfig
        "*.pc": "shellscript",
    },

    // Excluded files
    "files.exclude": {
        "**/.git": true,
        "**/.svn": true,
        "**/.hg": true,
        "**/CVS": true,
        "**/.DS_Store": true
    },

    // Files excluded from searching (inherit hidden files)
    "search.exclude": {
        "**/node_modules": true,
        "**/bower_components": true
    },

    // Files watching
    "files.useExperimentalFileWatcher": true,

    "files.watcherExclude": {
        "**/.git/objects/**": true,
        "**/.git/subtree-cache/**": true,
        "**/node_modules/**": true
    },

    // Diff
    "diffEditor.ignoreTrimWhitespace": false,

    // Debug
    "debug.internalConsoleOptions": "openOnSessionStart",
    "debug.openDebug": "openOnSessionStart",
    "debug.openExplorerOnEnd": false,
    "debug.showInStatusBar": "never",
    "debug.toolBarLocation": "docked",

    "launch": {
        "configurations": [
            {
                "name": "[CMake] Current target",
                "type": "cppdbg",
                "request": "launch",
                "program": "${command:cmake.launchTargetPath}",
                "cwd": "${workspaceFolder}",
                "MIMode": "gdb",
                "miDebuggerArgs": "--quiet",
                "setupCommands": [
                    {
                        "description": "Enable pretty-printing for gdb",
                        "text": "-enable-pretty-printing",
                        "ignoreFailures": true
                    }
                ],
                "stopAtEntry": false,
                "externalConsole": false,
            },
            {
                "name": "[CMake][Inferiors] Current target",
                "type": "cppdbg",
                "request": "launch",
                "program": "${command:cmake.launchTargetPath}",
                "cwd": "${workspaceFolder}",
                "MIMode": "gdb",
                "miDebuggerArgs": "--quiet --command=${workspaceFolder}/criterion.gdb",
                "setupCommands": [
                    {
                        "text": "-interpreter-exec console \"set follow-fork-mode child\""
                    },
                ],
                "stopAtEntry": false,
                "externalConsole": false,
            },
            {
                "name": "[CMake][Native] Current target",
                "type": "gdb",
                "request": "launch",
                "target": "${command:cmake.launchTargetPath}",
                "cwd": "${workspaceFolder}",
                "valuesFormatting": "prettyPrinters",
            },
            {
                "name": "[CMake][Native][Inferiors] Current target",
                "type": "gdb",
                "request": "launch",
                "target": "${command:cmake.launchTargetPath}",
                "cwd": "${workspaceFolder}",
                // "showDevDebugOutput": true,
                "autorun": [
                    // "set follow-fork-mode child",
                    // "set detach-on-fork off",
                    // "set non-stop on",
                    // "set target-async on",
                    // "set schedule-multiple on",
                    // "set print inferior-events off",
                    // "set print thread-events off",
                    // "handle SIGSTOP SIGCONT nostop noprint pass"
                ],
                "debugger_args": [
                    "-x",
                    "${workspaceFolder}/criterion.gdb",
                ],
                "printCalls": true,
                "valuesFormatting": "prettyPrinters",
            },
        ],
        "compounds": []
    },

    // Terminal
    "terminal.external.linuxExec": "urxvt",
    "terminal.integrated.drawBoldTextInBrightColors": true,
    "terminal.integrated.fontWeightBold": "normal",
    "terminal.integrated.scrollback": 10000,

    // Telemetry
    "telemetry.enableCrashReporter": false,
    "telemetry.enableTelemetry": false,

    // Git
    "git.autofetch": true,
    "git.confirmSync": false,
    "git.enableSmartCommit": true,
    "gitlens.codeLens.enabled": false,

    // TODO
    "todohighlight.isEnable": true,
    "todohighlight.isCaseSensitive": false,
    "todohighlight.keywords": [
        "Note:",
        {
            "text": "Todo:",
            "color": "#e4e4e4",
            "backgroundColor": "#00afaf",
            "borderColor": "#00afaf",
        },
        {
            "text": "Fixme:",
            "color": "#e4e4e4",
            "backgroundColor": "#d75f00",
            "borderColor": "#d75f00",
        },
    ],
    "todohighlight.defaultStyle": {
        "color": "#626262",
        "backgroundColor": "#ffffd7",
        "borderColor":  "#ffffd7",
        "borderWidth": "1px",
        "borderStyle": "solid",
        "borderRadius": "2px",
        "cursor": "pointer",
        "isWholeLine": false,
    },
    "todohighlight.include": [
        "**/*.js",
        "**/*.jsx",
        "**/*.ts",
        "**/*.tsx",
        "**/*.html",
        "**/*.php",
        "**/*.css",
        "**/*.scss",
        "**/*.c",
        "**/*.h",
        "**/*.C",
        "**/*.cpp",
        "**/CMakeLists.txt",
    ],

    // XML
    "xml.format.splitAttributes": false,

    // C/C++
    "C_Cpp.default.includePath": [
        "/usr/include"
    ],
    "C_Cpp.clang_format_path": "/usr/bin/clang-format",
    "C_Cpp.clang_format_style": "file",
    "C_Cpp.clang_format_fallbackStyle": "Visual Studio",

    // Cmake
    "cmake.configureOnOpen": true,
    "cmake.saveBeforeBuild": true,
    "cmake.autoRestartBuild": true,
    "cmake.buildBeforeRun": true,
    "cmake.debugConfig": {
        "environment": [
            {
                // Prevents Check forks while debugging
                "name": "CK_FORK",
                "value": "no",
                //
            }
        ],
    },

    // Python
    "python.linting.lintOnSave": true,
    "window.zoomLevel": 0,
}
